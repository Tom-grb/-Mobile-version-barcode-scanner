"use strict";const e=require("../../../../common/vendor.js"),i=require("../../config.js");const n={mixins:[require("../../common/login-page.mixin.js").mixin],data:()=>({type:"",phone:"",focusPhone:!1,logo:"/static/logo.png"}),computed:{loginTypes:async()=>i.config.loginTypes,isPhone(){return/^1\d{10}$/.test(this.phone)},imgSrc(){return{weixin:"/uni_modules/uni-id-pages/static/login/weixin.png",apple:"/uni_modules/uni-id-pages/static/app/apple.png",huawei:"/uni_modules/uni-id-pages/static/login/huawei.png",huaweiMobile:"/uni_modules/uni-id-pages/static/login/huawei-mobile.png"}[this.type]}},async onLoad(n){let o=n.type||i.config.loginTypes[0];this.type=o,"univerify"!=o&&(this.focusPhone=!0),this.$nextTick((()=>{["weixin","apple","huawei","huaweiMobile"].includes(o)&&(this.$refs.uniFabLogin.servicesList=this.$refs.uniFabLogin.servicesList.filter((e=>e.id!=o)))})),e.index.$on("uni-id-pages-setLoginType",(e=>{this.type=e}))},onShow(){},onUnload(){e.index.$off("uni-id-pages-setLoginType")},onReady(){},methods:{showCurrentWebview(){undefined.setStyle({top:0})},showAgreementModal(){this.$refs.agreements.popup()},quickLogin(e){var i,n;let o={};console.log(e),(null==(i=e.detail)?void 0:i.code)&&(o.phoneNumberCode=e.detail.code),("weixinMobile"!==this.type&&"huaweiMobile"!==this.type||(null==(n=e.detail)?void 0:n.code))&&this.$refs.uniFabLogin.login_before(this.type,!0,o)},toSmsPage(){return this.isPhone?this.needAgreements&&!this.agree?this.$refs.agreements.popup(this.toSmsPage):void e.index.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-smscode?phoneNumber="+this.phone}):(this.focusPhone=!0,e.index.showToast({title:"手机号码格式不正确",icon:"none",duration:3e3}))},toPwdLogin(){e.index.navigateTo({url:"../login/password"})},chooseArea(){e.index.showToast({title:"暂不支持其他国家",icon:"none",duration:3e3})}}};if(!Array){(e.resolveComponent("uni-id-pages-agreements")+e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-id-pages-fab-login"))()}Math||((()=>"../../components/uni-id-pages-agreements/uni-id-pages-agreements.js")+(()=>"../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../components/uni-id-pages-fab-login/uni-id-pages-fab-login.js"))();const o=e._export_sfc(n,[["render",function(i,n,o,s,t,a){return e.e({a:["apple","weixin","weixinMobile","huawei","huaweiMobile"].includes(t.type)},["apple","weixin","weixinMobile","huawei","huaweiMobile"].includes(t.type)?e.e({b:"weixinMobile"!==t.type&&"huaweiMobile"!==t.type},"weixinMobile"!==t.type&&"huaweiMobile"!==t.type?{c:e.o(((...e)=>a.quickLogin&&a.quickLogin(...e))),d:a.imgSrc}:e.e({e:"weixinMobile"===t.type},"weixinMobile"===t.type?{f:e.o(((...e)=>a.quickLogin&&a.quickLogin(...e)))}:{},{g:"huaweiMobile"===t.type},"huaweiMobile"===t.type?{h:a.imgSrc,i:e.o(((...e)=>a.quickLogin&&a.quickLogin(...e)))}:{},{j:this.needAgreements&&!this.agree},this.needAgreements&&!this.agree?{k:e.o(((...e)=>a.showAgreementModal&&a.showAgreementModal(...e)))}:{}),{l:e.sr("agreements","7ed0ea44-0"),m:e.p({scope:"register"})}):{n:e.o(((...e)=>a.chooseArea&&a.chooseArea(...e))),o:e.o((e=>t.focusPhone=!1)),p:e.o((e=>t.phone=e)),q:e.p({trim:"both",focus:t.focusPhone,type:"number",inputBorder:!1,maxlength:"11",placeholder:"请输入手机号",modelValue:t.phone}),r:e.sr("agreements","7ed0ea44-2"),s:e.p({scope:"register"}),t:e.o(((...e)=>a.toSmsPage&&a.toSmsPage(...e)))},{v:e.sr("uniFabLogin","7ed0ea44-3")})}],["__scopeId","data-v-7ed0ea44"]]);wx.createPage(o);
